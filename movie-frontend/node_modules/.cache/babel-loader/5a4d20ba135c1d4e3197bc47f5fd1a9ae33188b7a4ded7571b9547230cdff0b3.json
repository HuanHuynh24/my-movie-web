{"ast":null,"code":"import{useEffect,useRef}from'react';const useCarousel=function(slideRef,nextRef,prevRef){let autoplayTime=arguments.length>3&&arguments[3]!==undefined?arguments[3]:5000;const autoplayRef=useRef();useEffect(()=>{const slide=slideRef.current;const next=nextRef.current;const prev=prevRef.current;const moveToNextSlide=()=>{let items=slide.querySelectorAll(\".carousel\");slide.appendChild(items[0]);resetAutoplay();};const moveToPrevSlide=()=>{let items=slide.querySelectorAll(\".carousel\");slide.prepend(items[items.length-1]);resetAutoplay();};const resetAutoplay=()=>{clearInterval(autoplayRef.current);autoplayRef.current=setInterval(()=>{moveToNextSlide();},autoplayTime);};next.addEventListener(\"click\",moveToNextSlide);prev.addEventListener(\"click\",moveToPrevSlide);autoplayRef.current=setInterval(()=>{moveToNextSlide();},autoplayTime);// Clean up event listeners on component unmount\nreturn()=>{next.removeEventListener(\"click\",moveToNextSlide);prev.removeEventListener(\"click\",moveToPrevSlide);clearInterval(autoplayRef.current);};},[autoplayTime]);// Chỉ kiểm tra autoplayTime\n};export default useCarousel;","map":{"version":3,"names":["useEffect","useRef","useCarousel","slideRef","nextRef","prevRef","autoplayTime","arguments","length","undefined","autoplayRef","slide","current","next","prev","moveToNextSlide","items","querySelectorAll","appendChild","resetAutoplay","moveToPrevSlide","prepend","clearInterval","setInterval","addEventListener","removeEventListener"],"sources":["D:/movie_website/movie-frontend/src/carousels/carousel.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\n\r\nconst useCarousel = (slideRef, nextRef, prevRef, autoplayTime = 5000) => {\r\n  const autoplayRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const slide = slideRef.current;\r\n    const next = nextRef.current;\r\n    const prev = prevRef.current;\r\n\r\n    const moveToNextSlide = () => {\r\n      let items = slide.querySelectorAll(\".carousel\");\r\n      slide.appendChild(items[0]);\r\n      resetAutoplay();\r\n    };\r\n\r\n    const moveToPrevSlide = () => {\r\n      let items = slide.querySelectorAll(\".carousel\");\r\n      slide.prepend(items[items.length - 1]);\r\n      resetAutoplay();\r\n    };\r\n\r\n    const resetAutoplay = () => {\r\n      clearInterval(autoplayRef.current);\r\n      autoplayRef.current = setInterval(() => {\r\n        moveToNextSlide();\r\n      }, autoplayTime);\r\n    };\r\n\r\n    next.addEventListener(\"click\", moveToNextSlide);\r\n    prev.addEventListener(\"click\", moveToPrevSlide);\r\n\r\n    autoplayRef.current = setInterval(() => {\r\n      moveToNextSlide();\r\n    }, autoplayTime);\r\n\r\n    // Clean up event listeners on component unmount\r\n    return () => {\r\n      next.removeEventListener(\"click\", moveToNextSlide);\r\n      prev.removeEventListener(\"click\", moveToPrevSlide);\r\n      clearInterval(autoplayRef.current);\r\n    };\r\n  }, [autoplayTime]); // Chỉ kiểm tra autoplayTime\r\n};\r\n\r\nexport default useCarousel;\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAEzC,KAAM,CAAAC,WAAW,CAAG,QAAAA,CAACC,QAAQ,CAAEC,OAAO,CAAEC,OAAO,CAA0B,IAAxB,CAAAC,YAAY,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,IAAI,CAClE,KAAM,CAAAG,WAAW,CAAGT,MAAM,CAAC,CAAC,CAE5BD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,KAAK,CAAGR,QAAQ,CAACS,OAAO,CAC9B,KAAM,CAAAC,IAAI,CAAGT,OAAO,CAACQ,OAAO,CAC5B,KAAM,CAAAE,IAAI,CAAGT,OAAO,CAACO,OAAO,CAE5B,KAAM,CAAAG,eAAe,CAAGA,CAAA,GAAM,CAC5B,GAAI,CAAAC,KAAK,CAAGL,KAAK,CAACM,gBAAgB,CAAC,WAAW,CAAC,CAC/CN,KAAK,CAACO,WAAW,CAACF,KAAK,CAAC,CAAC,CAAC,CAAC,CAC3BG,aAAa,CAAC,CAAC,CACjB,CAAC,CAED,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,GAAI,CAAAJ,KAAK,CAAGL,KAAK,CAACM,gBAAgB,CAAC,WAAW,CAAC,CAC/CN,KAAK,CAACU,OAAO,CAACL,KAAK,CAACA,KAAK,CAACR,MAAM,CAAG,CAAC,CAAC,CAAC,CACtCW,aAAa,CAAC,CAAC,CACjB,CAAC,CAED,KAAM,CAAAA,aAAa,CAAGA,CAAA,GAAM,CAC1BG,aAAa,CAACZ,WAAW,CAACE,OAAO,CAAC,CAClCF,WAAW,CAACE,OAAO,CAAGW,WAAW,CAAC,IAAM,CACtCR,eAAe,CAAC,CAAC,CACnB,CAAC,CAAET,YAAY,CAAC,CAClB,CAAC,CAEDO,IAAI,CAACW,gBAAgB,CAAC,OAAO,CAAET,eAAe,CAAC,CAC/CD,IAAI,CAACU,gBAAgB,CAAC,OAAO,CAAEJ,eAAe,CAAC,CAE/CV,WAAW,CAACE,OAAO,CAAGW,WAAW,CAAC,IAAM,CACtCR,eAAe,CAAC,CAAC,CACnB,CAAC,CAAET,YAAY,CAAC,CAEhB;AACA,MAAO,IAAM,CACXO,IAAI,CAACY,mBAAmB,CAAC,OAAO,CAAEV,eAAe,CAAC,CAClDD,IAAI,CAACW,mBAAmB,CAAC,OAAO,CAAEL,eAAe,CAAC,CAClDE,aAAa,CAACZ,WAAW,CAACE,OAAO,CAAC,CACpC,CAAC,CACH,CAAC,CAAE,CAACN,YAAY,CAAC,CAAC,CAAE;AACtB,CAAC,CAED,cAAe,CAAAJ,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}