{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nconst useCarousel = (slideRef, nextRef, prevRef, autoplayTime = 5000) => {\n  _s();\n  const autoplayRef = useRef();\n  useEffect(() => {\n    const slide = slideRef.current;\n    const next = nextRef.current;\n    const prev = prevRef.current;\n    const moveToNextSlide = () => {\n      let items = slide.querySelectorAll(\".carousel\");\n      slide.appendChild(items[0]);\n      resetAutoplay();\n    };\n    const moveToPrevSlide = () => {\n      let items = slide.querySelectorAll(\".carousel\");\n      slide.prepend(items[items.length - 1]);\n      resetAutoplay();\n    };\n    const resetAutoplay = () => {\n      clearInterval(autoplayRef.current);\n      autoplayRef.current = setInterval(() => {\n        moveToNextSlide();\n      }, autoplayTime);\n    };\n    next.addEventListener(\"click\", moveToNextSlide);\n    prev.addEventListener(\"click\", moveToPrevSlide);\n    autoplayRef.current = setInterval(() => {\n      moveToNextSlide();\n    }, autoplayTime);\n\n    // Clean up event listeners on component unmount\n    return () => {\n      next.removeEventListener(\"click\", moveToNextSlide);\n      prev.removeEventListener(\"click\", moveToPrevSlide);\n      clearInterval(autoplayRef.current);\n    };\n  }, [autoplayTime]); // Chỉ kiểm tra autoplayTime\n};\n_s(useCarousel, \"ohRUb7ecTutUUY3U2CzlWNZYWN4=\");\nexport default useCarousel;","map":{"version":3,"names":["useEffect","useRef","useCarousel","slideRef","nextRef","prevRef","autoplayTime","_s","autoplayRef","slide","current","next","prev","moveToNextSlide","items","querySelectorAll","appendChild","resetAutoplay","moveToPrevSlide","prepend","length","clearInterval","setInterval","addEventListener","removeEventListener"],"sources":["D:/movie_website/movie-frontend/src/carousels/carousel.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\n\r\nconst useCarousel = (slideRef, nextRef, prevRef, autoplayTime = 5000) => {\r\n  const autoplayRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const slide = slideRef.current;\r\n    const next = nextRef.current;\r\n    const prev = prevRef.current;\r\n\r\n    const moveToNextSlide = () => {\r\n      let items = slide.querySelectorAll(\".carousel\");\r\n      slide.appendChild(items[0]);\r\n      resetAutoplay();\r\n    };\r\n\r\n    const moveToPrevSlide = () => {\r\n      let items = slide.querySelectorAll(\".carousel\");\r\n      slide.prepend(items[items.length - 1]);\r\n      resetAutoplay();\r\n    };\r\n\r\n    const resetAutoplay = () => {\r\n      clearInterval(autoplayRef.current);\r\n      autoplayRef.current = setInterval(() => {\r\n        moveToNextSlide();\r\n      }, autoplayTime);\r\n    };\r\n\r\n    next.addEventListener(\"click\", moveToNextSlide);\r\n    prev.addEventListener(\"click\", moveToPrevSlide);\r\n\r\n    autoplayRef.current = setInterval(() => {\r\n      moveToNextSlide();\r\n    }, autoplayTime);\r\n\r\n    // Clean up event listeners on component unmount\r\n    return () => {\r\n      next.removeEventListener(\"click\", moveToNextSlide);\r\n      prev.removeEventListener(\"click\", moveToPrevSlide);\r\n      clearInterval(autoplayRef.current);\r\n    };\r\n  }, [autoplayTime]); // Chỉ kiểm tra autoplayTime\r\n};\r\n\r\nexport default useCarousel;\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEzC,MAAMC,WAAW,GAAGA,CAACC,QAAQ,EAAEC,OAAO,EAAEC,OAAO,EAAEC,YAAY,GAAG,IAAI,KAAK;EAAAC,EAAA;EACvE,MAAMC,WAAW,GAAGP,MAAM,CAAC,CAAC;EAE5BD,SAAS,CAAC,MAAM;IACd,MAAMS,KAAK,GAAGN,QAAQ,CAACO,OAAO;IAC9B,MAAMC,IAAI,GAAGP,OAAO,CAACM,OAAO;IAC5B,MAAME,IAAI,GAAGP,OAAO,CAACK,OAAO;IAE5B,MAAMG,eAAe,GAAGA,CAAA,KAAM;MAC5B,IAAIC,KAAK,GAAGL,KAAK,CAACM,gBAAgB,CAAC,WAAW,CAAC;MAC/CN,KAAK,CAACO,WAAW,CAACF,KAAK,CAAC,CAAC,CAAC,CAAC;MAC3BG,aAAa,CAAC,CAAC;IACjB,CAAC;IAED,MAAMC,eAAe,GAAGA,CAAA,KAAM;MAC5B,IAAIJ,KAAK,GAAGL,KAAK,CAACM,gBAAgB,CAAC,WAAW,CAAC;MAC/CN,KAAK,CAACU,OAAO,CAACL,KAAK,CAACA,KAAK,CAACM,MAAM,GAAG,CAAC,CAAC,CAAC;MACtCH,aAAa,CAAC,CAAC;IACjB,CAAC;IAED,MAAMA,aAAa,GAAGA,CAAA,KAAM;MAC1BI,aAAa,CAACb,WAAW,CAACE,OAAO,CAAC;MAClCF,WAAW,CAACE,OAAO,GAAGY,WAAW,CAAC,MAAM;QACtCT,eAAe,CAAC,CAAC;MACnB,CAAC,EAAEP,YAAY,CAAC;IAClB,CAAC;IAEDK,IAAI,CAACY,gBAAgB,CAAC,OAAO,EAAEV,eAAe,CAAC;IAC/CD,IAAI,CAACW,gBAAgB,CAAC,OAAO,EAAEL,eAAe,CAAC;IAE/CV,WAAW,CAACE,OAAO,GAAGY,WAAW,CAAC,MAAM;MACtCT,eAAe,CAAC,CAAC;IACnB,CAAC,EAAEP,YAAY,CAAC;;IAEhB;IACA,OAAO,MAAM;MACXK,IAAI,CAACa,mBAAmB,CAAC,OAAO,EAAEX,eAAe,CAAC;MAClDD,IAAI,CAACY,mBAAmB,CAAC,OAAO,EAAEN,eAAe,CAAC;MAClDG,aAAa,CAACb,WAAW,CAACE,OAAO,CAAC;IACpC,CAAC;EACH,CAAC,EAAE,CAACJ,YAAY,CAAC,CAAC,CAAC,CAAC;AACtB,CAAC;AAACC,EAAA,CAzCIL,WAAW;AA2CjB,eAAeA,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}